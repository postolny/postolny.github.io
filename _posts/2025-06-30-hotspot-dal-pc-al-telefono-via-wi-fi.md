---
layout: post
title: "Как раздать интернет с ПК на телефон по Wi-Fi через Mobile Hotspot"
description: "В этой статье я расскажу как на примере трёх моих старых компьютеров, которые у меня подключаются к кабельному (проводному) интеренету, реализовать раздачу интернета на телефон (pазумеется, интернет можно раздавать по Wi-Fi не только на телефон, но и на любое устройство, которое может быть подключено к Wi-Fi)."
author: "И. Постольный"
compress_html: false
categories: 
tags: [Windows, Mobile, CMD]
---

В этой статье я расскажу как на примере трёх моих старых компьютеров, которые у меня подключаются к кабельному (проводному) интеренету, реализовать раздачу интернета на телефон (pазумеется, интернет можно раздавать по Wi-Fi не только на телефон, но и на любое устройство, которое может быть подключено к Wi-Fi).

### ASUS X550L (Windows 10 Домашняя, приобретён в 2014 году)

Сначала нужно открыть «Параметры» → «Сеть и Интернет» → «Wi-Fi» и перевести переключатель «Беспроводная сеть» в положение «Вкл». Затем в окне «Сеть и Интернет» перейдите в раздел «Мобильный хот-спот» и также включите «Разрешить использования моего интернет-соединения на других устройствах». Там же вы увидите Имя сети и Сетевой пароль — запишите их. Вы можете изменить эти данные, если хотите.

По желанию вы можете автоматизировать все процессы.

Чтобы открыть раздел «Wi-Fi» в «Параметрах», вы можете воспользоваться командной строкой или создать bat-файл.

С помощью командной строки:
	
{% highlight bash linenos %}
start ms-settings:network-wifi
{% endhighlight %}

С помощью bat-файла:

{% highlight batch linenos %}
@echo off
start "" ms-settings:network-wifi
{% endhighlight %}

Далее в «Параметрах» откройте раздел «Мобильный хот-спот» любым удобным способом.

С помощью командной строки:

{% highlight bash linenos %}
start ms-settings:network-mobilehotspot
{% endhighlight %}

С помощью bat-файла:

{% highlight batch linenos %}
@echo off
start "" ms-settings:network-wifi
{% endhighlight %}

Теперь откройте окно «Сетевые подключения» любым удобным способом.

С помощью окна «Выполнить»:

Нажмите <kbd><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 16 16"><path fill="currentColor" d="M6.555 1.375L0 2.237v5.45h6.555zM0 13.795l6.555.933V8.313H0zm7.278-5.4l.026 6.378L16 16V8.395zM16 0L7.33 1.244v6.414H16z"/></svg></kbd> + <kbd>R</kbd> и введите `ncpa.cpl`, нажмите на кнопку «OK» или клавишу <kbd>Enter</kbd>.

С помощью командной строки:

Выполните команду `start ncpa.cpl` или `control ncpa.cpl`.

Чтобы открыть командную строку нажмите <kbd><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 16 16"><path fill="currentColor" d="M6.555 1.375L0 2.237v5.45h6.555zM0 13.795l6.555.933V8.313H0zm7.278-5.4l.026 6.378L16 16V8.395zM16 0L7.33 1.244v6.414H16z"/></svg></kbd> + <kbd>R</kbd> и введите `cmd`, нажмите клавишу <kbd>Enter</kbd>. Командная строка будет запущена без прав администратора. Если вам по какой-либо причине потребуется запустить её с правами администратора нажмите не просто <kbd>Enter</kbd>, а сочетание клавиш <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>Enter</kbd>.
{: .cornice}

С помощью bat:

{% highlight batch linenos %}
@echo off
start "" ncpa.cpl
{% endhighlight %}

Там вы увидите новый сетевой адаптер, который Windows создала для раздачи интернета через Wi-Fi. Если хотите, вы можете переименовать его. Для этого кликните на значке адаптера правой клавишей мышки и в появившемся контекстном меню выберите пункт «Переименовать». Задайте любое имя, например, Hotspot.

Теперь кликните на значке основного адаптера и в контекстном меню выберите «Свойства». В открывшемся окне перейдите на вкладку «Доступ» и в этом разделе поставьте галочку «Разрешить другим пользователям сети использовать подключение Интернета к данному компьютеру». Ниже выберите созданный адаптер.

Осталось на телефоне включить Wi-Fi, найти среди отобразившихся сетей имя вашей сети и указать для неё пароль из Параметры → Сеть и Интернет → Wi-Fi.

Для быстрого включения Wi-Fi и Хотспот вы можете кликнуть на значок сети на панели задач и на открывшейся панели нажать сответствующие кнопки (достаточно включить только кнопку «Мобильный хот-спот» — кнопка «Wi-Fi» включится автоматически, для отключения — аналогично). Кнопка «Режим "в самолёте"» должна быть отключена.
{: .cornice}

Если вы используете Quick Access Popup (QAP), все команды вы можете выполнять с его помощью в соответствии с описанием в [этой статье]({{ site.baseurl }}/2024-11-12/сome-configurare-quick-access-popup).

### Выбор канала

Если вы живёте в многоквартирном доме, то скорей всего уже заметили, что Wi-Fi используют и ваши соседи. Чтобы избежать помех и добиться сигнала налучшего качества, вы можете выбрать канал. Мой ноутбук ASUS X550L имеет Wi-Fi адаптер Ralink RT3290 (802.11n Wireless LAN). Расскажу как выбрать канал на его примере. Нажмите <kbd>Win</kbd> + <kbd>R</kbd> и в открывшемся окне «Выполнить» введите `devmgmt.msc`, нажмите на кнопку «OK» или клавишу <kbd>Enter</kbd>. В открывшеся Диспетчере устройств раскройте раздел «Сетевые адаптеры и найдите ваш Wi-Fi адаптер (в моём случае 802.11n Wireless LAN Card). Кликните по нему правой клавишей мышки и в появившемся контекстном меню выберите пункт «Свойства». В открывшемся окне перейдите на вкладку «Дополнительно». Выберите свойство «Country Region», и в выпадающем списке в качестве значения выберите нужный канал. Для того, чтобы узнать какой канал для вас окажется наиболее подходящим, вы можете воспользоваться программой WifiInfoView. Загрузите zip-архив с программой с [официального сайта](https://www.nirsoft.net/utils/wifi_information_view.html){:target="_blank" rel="noopener noreferrer"} и распакуйте содержимое архива в любую папку на вашем компьютере, а также, если вам нужно, чтобы интрефейс был, например, на русском, загрузите соответствующий zip-архив с языковым файлом — извлечённый из архива языковой файл поместите в папку с программой. Запустите программу и проанализируйте, какие каналы используют сети ваших соседей. Выберите канал, который либо не используется, либо используется, но имеет слабый сигнал.

### ASUS Eee PC 1001PXD (Windows 7 Starter, год выпуска 2010)

Сначала я проверил наличие беспроводного адаптера командой `netsh wlan show drivers` и получил положительный результат:

```batch
Имя интерфейса: Беспроводное сетевое соединение
Поддержка размещённой сети: Да
Тип: Собственный драйвер Wi-Fi
Поддерживаемые типы радиомодулей: 802.11b 802.11g. 802.11.n
```

Если хотите, можете проверить наличие доступных сетей командой `netsh wlan show networks`.

Теперь перейдите: Панель управления → Сеть и интернет → Центр управления сетями → Изменить дополнительные параметры общего доступа. Доступ везде должен быть включен.

Установите программу [OSToto Hotspot](https://160wifi.ru.uptodown.com/windows/download){:target="_blank" rel="noopener noreferrer"} или можно попробовать установить аналогичную программу [MyPublicWiFi](https://mypublicwifi.com/publicwifi/en/index.html){:target="_blank" rel="noopener noreferrer"}, но она требует Пакет обновления 1 (SP1) для Windows 7 (KB976932), который всё ещё доступен в [Microsoft Update Catalog](https://www.catalog.update.microsoft.com/Search.aspx?q=KB976932){:target="_blank" rel="noopener noreferrer"}.

### ASUS P50IJ (Windows 10 Домашняя, год выпуска 2009)

Прежде всего мне пришлось обновить драйвер адаптера Wi-Fi Intel(R) WiFi Link 5150 до самой последней возможной версии (установленный драйвер имел версию 12.4.1.51 (07.06.2009), а обновить удалось до версии 13.4.0.9 (18.10.2010)). Такой драйвер можно найти на сайте [Lenovo](https://support.lenovo.com/us/en/downloads/ds000675-intel-wireless-lan-11bgn-for-windows-7-32-bit-64-bit-thinkpad){:target="_blank" rel="noopener noreferrer"} или [thinkpads](https://thinkpads.com/support/Thinkpad-Drivers/download.lenovo.com/ibmdl/pub/pc/pccbbs/mobiles/){:target="_blank" rel="noopener noreferrer"} (6mws21ww.exe). К сожалению, у меня не получилось установить драйвер с помощью этого установочного файла и мне пришлось распаковать его с помощью командной строки, запущенной с правами администратора:

{% highlight bash linenos %}
"C:\Users\Igor\Downloads\6mws21ww.exe" /VERYSILENT /EXTRACT
{% endhighlight %}

Файлы распаковались в `C:\DRIVERS` (то есть туда, куда их установил бы установщик). Для установки драйвера нужно указать на эту папку в Диспетчере устройств (Обновить драйвер → Найти драйверы на этом компьютере → Нажать на кнопку «Обзор» → выбрать папку `DRIVERS` (чекбокс «Включая вложенные папки» должен быть отмечен)).

После успешной установки драйвера я перезагрузил компьютер. Затем, как и в случае с ASUS Eee PC 1001PXD, установил программу OSToto Hotspot.

### Если в компьютере отсутствует встроенный Wi-Fi модуль или сломан

В этом случае приобретите подключаемый Wi-Fi адаптер, например, TP-Link TL-WN725N или TL-WN722N.

Подключаемый Wi-Fi адаптер, имеющий внешнюю антенну, также может быть использован вместо встроенного для получения более сильного сигнала.

Конечно, пользоваться встроенным Wi-Fi адаптером — это не самое лучшее решение, хотя интернет на моём телефоне, раздаваемый с ПК, работает быстро и стабильно и мне даже удалось обновить на телефоне систему и приложения. Лучшим же решеним остаётся использование хорошего роутера, с помощью которого можно будет подключить несколько устройств и возможно без потери скорости соединения. Кроме того, в случае использование роутера, отпадает необходимость использования раздающего компьютера.

### Виджет для включения / отключения Wi-Fi на телефоне с Android

Конечно для включения и выключения Wi-Fi можно воспользоваться шторкой, но мне вот не нравится эта шторка из-за необходимости свайпа и вероятности случайно нажать не туда. Поэтому я просто создал виджет, открывающий раздел Wi-Fi в настройках. Для создания такого виджета удерживайте палец на рабочем столе, в появившемся меню виджетов и настроек рабочего стола выберите «Виджеты», в открывшемся меню «Выбрать виджет» выберите «Настройки», далее нажмите на кнопку «Добавить на рабочий стол». На следующем шаге вам будет предложено выбрать ярлык — выберите «Wi-Fi». Перетащите созданный виджет в удобное место.